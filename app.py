import streamlit as st

# ==========================================
# 1. ç³»çµ±è¨­å®š
# ==========================================
st.set_page_config(
    page_title="è†½æ›¼ç¦åˆ©ç™¾ç§‘(30é …)",
    page_icon="ğŸ‘µ",
    layout="centered",
    initial_sidebar_state="collapsed"
)

# CSS: å¤§å­—é«”ã€æ¸…æ™°å¡ç‰‡
st.markdown("""
    <style>
    html, body, [class*="css"] {
        font-family: "Microsoft JhengHei", sans-serif;
        font-size: 20px;
    }
    .big-money {
        font-size: 24px;
        color: #D32F2F; 
        font-weight: bold;
    }
    .benefit-item {
        border-bottom: 1px solid #ddd;
        padding: 10px 0;
    }
    </style>
""", unsafe_allow_html=True)

# ==========================================
# 2. æ¨™é¡Œèˆ‡è¼¸å…¥
# ==========================================
st.title("ğŸ‘µ è†½æ›¼ç¦åˆ©ç™¾ç§‘ (33é …)")
st.caption("ğŸ‘‡ è«‹å‹¾é¸æ‚¨çš„ç‹€æ³ï¼Œç³»çµ±æœƒè‡ªå‹•æ¨™è¨˜ã€Œâœ…ç¬¦åˆã€çš„é …ç›®")

with st.expander("ğŸ“ è¨­å®šè³‡æ–™ (é»æ­¤å±•é–‹)", expanded=True):
    age = st.number_input("é•·è¼©å¹´é½¡", 50, 120, 65)
    
    c1, c2 = st.columns(2)
    with c1:
        is_farmer = st.checkbox("æˆ‘æ˜¯è¾²æ°‘")
        is_low_income = st.checkbox("ä¸­ä½æ”¶å…¥æˆ¶")
        has_disability = st.checkbox("èº«éšœæ‰‹å†Š")
        live_institution = st.checkbox("ä½å®‰é¤Šé™¢")
    with c2:
        is_owner = st.checkbox("æœ‰æˆ¿å­")
        has_car = st.checkbox("æœ‰è»Šå­")
        grandparenting = st.checkbox("å¸¶å­«å­")
        need_transport = st.checkbox("å¸¸çœ‹ç—…")

# ==========================================
# 3. æ ¸å¿ƒé¡¯ç¤ºå‡½æ•¸ (è‡ªå‹•åˆ¤æ–·è³‡æ ¼)
# ==========================================
def show_item(index, name, money, qualify, note, location):
    # åˆ¤æ–·æ˜¯å¦ç¬¦åˆè³‡æ ¼
    if qualify:
        icon = "âœ…"
        bg_color = "#E8F5E9" # ç¶ è‰²åº•
        status = "ç¬¦åˆè³‡æ ¼"
    else:
        icon = "ğŸ”’"
        bg_color = "#f9f9f9" # ç°è‰²åº•
        status = "æ¢ä»¶ä¸ç¬¦"

    # é¡¯ç¤ºå¡ç‰‡
    with st.container(border=True):
        st.write(f"**{index}. {icon} {name}**")
        if qualify:
            st.markdown(f'<div class="big-money">{money}</div>', unsafe_allow_html=True)
            st.info(f"ğŸ’¡ {note}")
            st.caption(f"ğŸ›ï¸ {location}")
        else:
            st.caption(f"âŒ {status} ({note})")

# ==========================================
# 4. ç¦åˆ©å¤§æ¸…å–® (33é …)
# ==========================================
st.markdown("---")
tabs = st.tabs(["ğŸ’°é ˜éŒ¢", "ğŸ©ºé†«ç™‚", "ğŸ ç”Ÿæ´»", "ğŸšŒäº¤é€š", "âš°ï¸éš±è—ç‰ˆ"])

# === Tab 1: ç¾é‡‘æ´¥è²¼ (8é …) ===
with tabs[0]:
    st.subheader("ğŸ’° æ¯æœˆæ´¥è²¼ & æ•‘åŠ©")
    
    show_item(1, "è€è¾²æ´¥è²¼", "$8,110/æœˆ", (is_farmer and age>=65), "è¾²ä¿æ»¿15å¹´å¯é ˜", "é•·æ¿±è¾²æœƒ")
    show_item(2, "åŸä½æ°‘çµ¦ä»˜ (åœ‹ä¿)", "$3,772/æœˆ", (55<=age<65), "55-64æ­²å°ˆå±¬", "å…¬æ‰€åŸæ°‘èª²")
    show_item(3, "ä¸­ä½æ”¶å…¥è€äººæ´¥è²¼", "$4k~$8k/æœˆ", (is_low_income and age>=65), "ä¾æ”¶å…¥åˆ†ç´š", "å…¬æ‰€ç¤¾æœƒèª²")
    show_item(4, "èº«å¿ƒéšœç¤™ç”Ÿæ´»è£œåŠ©", "$4k~$9k/æœˆ", (has_disability and is_low_income), "èº«éšœ+ç¶“æ¿Ÿå¼±å‹¢", "å…¬æ‰€ç¤¾æœƒèª²")
    show_item(5, "å¼±å‹¢å…’å°‘æ‰˜è‚²(éš”ä»£)", "$2k~$5k/æœˆ", (grandparenting and is_low_income), "é˜¿å…¬é˜¿å¬¤å¸¶å­«", "å…¬æ‰€ç¤¾æœƒèª²")
    show_item(6, "åŸä½æ°‘æ€¥é›£æ•‘åŠ©", "æœ€é«˜3è¬", True, "æ„å¤–/é‡ç—…/æ­»äº¡", "å…¬æ‰€åŸæ°‘èª²")
    show_item(7, "ç¸£åºœæ€¥é›£æ…°åŠ©", "æœ€é«˜2è¬", True, "å…¬æ‰€ä¸å¤ æ™‚ç”³è«‹", "å…¬æ‰€ä»£è½‰")
    show_item(8, "ç½å®³æ•‘åŠ©", "è¦–æƒ…æ³", True, "é¢±é¢¨/åœ°éœ‡å—æ", "å…¬æ‰€")

# === Tab 2: é†«ç™‚èˆ‡è¼”å…· (7é …) ===
with tabs[1]:
    st.subheader("ğŸ©º é†«ç™‚ç…§é¡§")
    
    show_item(9, "å¥ä¿è²»å…¨é¡è£œåŠ©", "å…¨å…", (age>=55), "æ”¿åºœå¹«ä½ ç¹³", "å¥ä¿å±€(è‡ªå‹•)")
    show_item(10, "åŸä½æ°‘å‡ç‰™è£œåŠ©", "æœ€é«˜4.4è¬", (age>=55), "å…ˆæ‹¿ä¼°åƒ¹å–®ï¼", "å…¬æ‰€åŸæ°‘èª²")
    show_item(11, "æˆäººå¥åº·æª¢æŸ¥", "å…è²»", (age>=55), "æ¯å¹´ä¸€æ¬¡", "è¡›ç”Ÿæ‰€")
    show_item(12, "èº«éšœè¼”å…·è£œåŠ©", "å…¨é¡/éƒ¨åˆ†", has_disability, "åŠ©è½å™¨/é›»å‹•åºŠ", "å…¬æ‰€ç¤¾æœƒèª²")
    show_item(13, "é•·ç…§ç°¡æ˜“è¼”å…·", "è£œåŠ©7æˆ", True, "æ‹æ–/è¼ªæ¤… (æ‰“1966)", "é•·ç…§ä¸­å¿ƒ")
    show_item(14, "å±…å®¶å¾©å¥æœå‹™", "é•·ç…§çµ¦ä»˜", True, "æ²»ç™‚å¸«åˆ°å®¶è£¡", "æ‰“1966")
    show_item(15, "å±…å®¶è­·ç†æœå‹™", "å¥ä¿çµ¦ä»˜", True, "è­·ç†å¸«åˆ°å®¶æ›ç®¡", "è¡›ç”Ÿæ‰€/1966")

# === Tab 3: å±…ä½èˆ‡ç”Ÿæ´» (6é …) ===
with tabs[2]:
    st.subheader("ğŸ  å±…ä½èˆ‡ç…§é¡§")
    
    show_item(16, "ä¿®ç¹•ä½å®…è£œåŠ©", "æœ€é«˜11è¬", is_owner, "ä¿®å±‹é ‚/å»æ‰€ (1-3æœˆè¾¦)", "å…¬æ‰€åŸæ°‘èª²")
    show_item(17, "å»ºè³¼ä½å®…è£œåŠ©", "æœ€é«˜22è¬", is_owner, "è“‹æ–°æˆ¿å­", "å…¬æ‰€åŸæ°‘èª²")
    show_item(18, "ç§Ÿé‡‘è£œè²¼", "ä¾ç­‰ç´š", (not is_owner), "300å„„ç§Ÿè£œå°ˆæ¡ˆ", "ç·šä¸Š/å…¬æ‰€")
    show_item(19, "ä½å®¿å¼æ©Ÿæ§‹è£œåŠ©", "æœ€é«˜12è¬/å¹´", live_institution, "ä½å®‰é¤Šé™¢å°ˆç”¨", "å…¬æ‰€ç¤¾æœƒèª²")
    show_item(20, "éƒ¨è½æ–‡å¥ç«™", "å…è²»ä¾›é¤", True, "å¹³æ—¥æ´»å‹•+åˆé¤", "è†½æ›¼æ–‡å¥ç«™")
    show_item(21, "å±…å®¶æœå‹™", "é•·ç…§çµ¦ä»˜", True, "å±…æœå“¡ä¾†ç…®é£¯/æ´—æ¾¡", "æ‰“1966")

# === Tab 4: äº¤é€šèˆ‡ç¨…å‹™ (6é …) ===
with tabs[3]:
    st.subheader("ğŸšŒ äº¤é€š & æ¸›ç¨…")
    
    show_item(22, "å°±é†«è½‰è¨ºäº¤é€šè²»", "å¯¦å ±å¯¦éŠ·", (age>=55 or need_transport), "çœ‹ç—…è»ŠéŒ¢(éœ€è½‰è¨ºå–®)", "è¡›ç”Ÿæ‰€")
    show_item(23, "å°æ±å¡ (æ•¬è€)", "1500é»/æœˆ", (age>=65), "æ­è»Šå…è²»/æŠµè¨ˆç¨‹è»Š", "å…¬æ‰€ç¤¾æœƒèª²")
    show_item(24, "TTGO é ç´„æ¥é€", "å…±ä¹˜å„ªæƒ ", True, "å»ç‰é‡Œ/å°æ±æ–¹ä¾¿", "é ç´„089-220855")
    show_item(25, "æ„›å¿ƒè¨ˆç¨‹è»Š", "æŠ˜æŠµè»Šè³‡", (age>=65), "éœ€é…åˆå°æ±å¡", "å«è»Šå°ˆç·š")
    show_item(26, "ç‰Œç…§ç¨…æ¸›å…", "å…ç¨…(1.1è¬)", (has_disability and has_car), "èº«éšœå…ç¨…", "ç¨…å‹™å±€")
    show_item(27, "ç¶œåˆæ‰€å¾—ç¨…æ‰£é™¤", "æ‰£é™¤é¡å¢åŠ ", has_disability, "å ±ç¨…ç”¨", "åœ‹ç¨…å±€")

# === Tab 5: éš±è—ç‰ˆæ¬Šç›Š (6é …) ===
with tabs[4]:
    st.subheader("âš°ï¸ èº«å¾Œ & æ³•å¾‹")
    
    show_item(28, "è¾²ä¿å–ªè‘¬æ´¥è²¼", "$153,000", is_farmer, "è¾²æ°‘èº«æ•…(å®¶å±¬é ˜)", "è¾²æœƒä¿éšªéƒ¨")
    show_item(29, "åœ‹ä¿å–ªè‘¬çµ¦ä»˜", "ç´„9.8è¬", (not is_farmer), "ä¸€èˆ¬äººèº«æ•…(å®¶å±¬é ˜)", "å‹ä¿å±€")
    show_item(30, "ä½æ”¶å–ªè‘¬è£œåŠ©", "æœ€é«˜3è¬", is_low_income, "å…¬æ‰€è£œåŠ©", "å…¬æ‰€ç¤¾æœƒèª²")
    show_item(31, "åŸä½æ°‘æ³•å¾‹æ‰¶åŠ©", "å¾‹å¸«è²»å…¨å…", True, "å®˜å¸ç³¾ç´›", "æ³•æ‰¶02-25078659")
    show_item(32, "æ„å¤–ä¿éšª (å¾®ä¿)", "æœ€é«˜30è¬", is_low_income, "æ”¿åºœå¹«ä½ ä¿", "å…¬æ‰€")
    show_item(33, "æ•¬è€ç¦®é‡‘", "ç´„1-5åƒ", (age>=65), "é‡é™½ç¯€ç™¼æ”¾", "å…ç”³è«‹")

# ==========================================
# 5. åº•éƒ¨è¯çµ¡å€
# ==========================================
st.markdown("---")
st.subheader("ğŸ“ å¸¸ç”¨é›»è©±")
c1, c2 = st.columns(2)
with c1:
    st.markdown("**é•·æ¿±é„‰å…¬æ‰€**ï¼š089-832139")
    st.markdown("**é•·æ¿±è¾²æœƒ**ï¼š089-832064")
with c2:
    st.markdown("**é•·ç…§å°ˆç·š**ï¼š1966")
    st.markdown("**é•·æ¿±è¡›ç”Ÿæ‰€**ï¼š089-831022")
